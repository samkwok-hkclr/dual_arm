<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:macro name="dual_arm" params="name parent *origin">
    <link name="arm_base_link">
      <inertial>
        <origin xyz="-0.0049955 1.1496E-05 -0.010911" rpy="0 0 0" />
        <mass value="1.8543" />
        <inertia
          ixx="0.015561"
          ixy="-1.1941E-05"
          ixz="-0.00041199"
          iyy="0.011465"
          iyz="-7.8472E-06"
          izz="0.0059878" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/base_link.STL" />
        </geometry>
        <material name="">
          <color rgba="0.78 0.82 0.78 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/base_link_simplify.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="arm_base_joint" type="fixed">
      <parent link="${parent}"/>
      <child link="arm_base_link"/>
      <xacro:insert_block name="origin" />
      <axis xyz="0 0 1"/>
    </joint>

    <link name="link1_right">
      <inertial>
        <origin xyz="0.00050131 1.9101E-07 -0.052638" rpy="0 0 0" />
        <mass value="0.15855" />
        <inertia
          ixx="0.00021207"
          ixy="-2.9917E-07"
          ixz="3.54E-06"
          iyy="0.00032023"
          iyz="-2.3961E-07"
          izz="0.00024019" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link1_right.STL" />
        </geometry>
        <material name="">
          <color rgba="0.55 0.6 0.55 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link1_right.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint1_right" type="revolute">
      <!-- <origin xyz="0.0003839 0.124 0.012675" rpy="1.57079632679 3.14159265359 -0.003096" /> -->
      <origin xyz="0.0003839 0.124 0.012675" rpy="1.57079632679 3.14159265359 0" />
      <parent link="arm_base_link" />
      <child link="link1_right" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-3.14159265359"
        upper="3.14159265359"
        effort="0"
        velocity="0.436332313" />
    </joint>

    <link name="link2_right">
      <inertial>
        <origin xyz="-0.029922 0.0026714 0.0026363" rpy="0 0 0" />
        <mass value="0.33873" />
        <inertia
          ixx="0.00073505"
          ixy="1.7822E-06"
          ixz="-2.2248E-05"
          iyy="0.00068697"
          iyz="3.5427E-06"
          izz="0.00044803" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link2_right.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link2_right.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint2_right" type="revolute">
      <origin xyz="0 0 -0.056" rpy="3.14159265359 -1.57079632679 0" />
      <parent link="link1_right" />
      <child link="link2_right" />
      <axis xyz="0 0 1" />
      <limit
        lower="-1.57079632679"
        upper="1.57079632679"
        effort="0"
        velocity="0.436332313" />
    </joint>

    <link name="link3_right">
      <inertial>
        <origin xyz="-0.0058267 -0.0016701 0.11259" rpy="0 0 0" />
        <mass value="0.34337" />
        <inertia
          ixx="0.0016463"
          ixy="-1.8501E-05"
          ixz="0.00013984"
          iyy="0.0016097"
          iyz="4.8636E-05"
          izz="0.00049751" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link3_right.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link3_right.STL" />
        </geometry>
      </collision>
    </link>
    
    <joint name="joint3_right" type="revolute">
      <origin xyz="-0.0705 0 0" rpy="1.57079632679 3.14159265359 -1.57079632679" />
      <parent link="link2_right" />
      <child link="link3_right" />
      <axis xyz="0 0 1" />
      <limit
        lower="-3.14159265359"
        upper="3.14159265359"
        effort="0"
        velocity="0.436332313" />
    </joint>

    <link name="link4_right">
      <inertial>
        <origin xyz="6.1575E-07 -0.011496 -0.0028054" rpy="0 0 0" />
        <mass value="0.13904" />
        <inertia
          ixx="0.00024464"
          ixy="1.3836E-07"
          ixz="4.0416E-08"
          iyy="0.00015494"
          iyz="-1.3471E-06"
          izz="0.00017092" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link4_right.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link4_right.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint4_right" type="revolute">
      <origin xyz="-0.038197 0 0.19969" rpy="-1.57079632679 0 3.14159265359" />
      <parent link="link3_right" />
      <child link="link4_right" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-2.44"
        upper="1.0"
        effort="0"
        velocity="0.436332313" />
    </joint>

    <link name="link5_right">
      <inertial>
        <origin xyz="1.9806E-06 0.0018081 -0.078642" rpy="0 0 0" />
        <mass value="0.14999" />
        <inertia
          ixx="0.00038781"
          ixy="5.3153E-09"
          ixz="-3.7041E-09"
          iyy="0.00035795"
          iyz="1.2827E-05"
          izz="0.00015133" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link5_right.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link5_right.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint5_right" type="revolute">
      <origin xyz="0 -0.067 0" rpy="-1.57079632679 0 0" />
      <parent link="link4_right" />
      <child link="link5_right" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-3.14159265359"
        upper="3.14159265359"
        effort="0"
        velocity="0.7853981634" />
    </joint>

    <link name="link6_right">
      <inertial>
        <origin xyz="-0.023745 -0.0018091 0.0026342" rpy="0 0 0" />
        <mass value="0.14924" />
        <inertia
          ixx="0.00015555"
          ixy="-9.0013E-06"
          ixz="-3.6227E-06"
          iyy="0.00021426"
          iyz="-7.7162E-07"
          izz="0.00022953" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link6_right.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link6_right.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint6_right" type="revolute">
      <origin xyz="0 0 -0.133" rpy="1.57079632679 -1.57079632679 0" />
      <parent link="link5_right" />
      <child link="link6_right" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-1.308996939"
        upper="1.308996939"
        effort="0"
        velocity="0.7853981634" />
    </joint>

    <link name="link7_right">
      <inertial>
        <origin xyz="8.607E-07 0.0034748 -0.0017068" rpy="0 0 0" />
        <mass value="0.082918" />
        <inertia
          ixx="5.7371E-05"
          ixy="-3.2078E-09"
          ixz="-5.1253E-10"
          iyy="5.6287E-05"
          iyz="-5.9283E-07"
          izz="6.5419E-05" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link7_right.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link7_right.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint7_right" type="revolute">
      <origin xyz="-0.065 -0.0015 0" rpy="1.57079632679 1.57079632679 3.14159265359" />
      <parent link="link6_right" />
      <child link="link7_right" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-1.05"
        upper="1.05"
        effort="0"
        velocity="0.7853981634" />
    </joint>

    <link name="link1_left">
      <inertial>
        <origin xyz="0.00050131 1.9101E-07 -0.052638" rpy="0 0 0" />
        <mass value="0.15855" />
        <inertia
          ixx="0.00021207"
          ixy="-2.9917E-07"
          ixz="3.54E-06"
          iyy="0.00032023"
          iyz="-2.3961E-07"
          izz="0.00024019" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link1_left.STL" />
        </geometry>
        <material name="">
          <color rgba="0.55 0.6 0.55 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link1_left.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint1_left" type="revolute">
      <origin xyz="-0.0003839 -0.124 0.012675" rpy="1.57079632679 3.14159265359 3.14159265359" />
      <parent link="arm_base_link" />
      <child link="link1_left" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-3.14159265359"
        upper="3.14159265359"
        effort="0"
        velocity="0.436332313" />
    </joint>

    <link name="link2_left">
      <inertial>
        <origin xyz="-0.029922 -0.0026714 -0.0026363" rpy="0 0 0" />
        <mass value="0.33873" />
        <inertia
          ixx="0.00073505"
          ixy="-1.7822E-06"
          ixz="2.2248E-05"
          iyy="0.00068697"
          iyz="3.5427E-06"
          izz="0.00044803" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link2_left.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link2_left.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint2_left" type="revolute">
      <origin xyz="0 0 -0.056" rpy="0 -1.57079632679 0" />
      <parent link="link1_left" />
      <child link="link2_left" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-1.57079632679"
        upper="1.57079632679"
        effort="0"
        velocity="0.436332313" />
    </joint>

    <link name="link3_left">
      <inertial>
        <origin xyz="-0.0058267 -0.0016701 0.11259" rpy="0 0 0" />
        <mass value="0.34337" />
        <inertia
          ixx="0.0016463"
          ixy="-1.8501E-05"
          ixz="0.00013984"
          iyy="0.0016097"
          iyz="4.8636E-05"
          izz="0.00049751" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link3_left.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link3_left.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint3_left" type="revolute">
      <origin xyz="-0.0705 0 0" rpy="1.57079632679 0 -1.57079632679" />
      <parent link="link2_left" />
      <child link="link3_left" />
      <axis xyz="0 0 1" />
      <limit
        lower="-3.14159265359"
        upper="3.14159265359"
        effort="0"
        velocity="0.436332313" />
    </joint>

    <link name="link4_left">
      <inertial>
        <origin xyz="-6.1575E-07 -0.011496 0.0028054" rpy="0 0 0" />
        <mass value="0.13904" />
        <inertia
          ixx="0.00024464"
          ixy="-1.3836E-07"
          ixz="4.0416E-08"
          iyy="0.00015494"
          iyz="1.3471E-06"
          izz="0.00017092" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link4_left.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link4_left.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint4_left" type="revolute">
      <origin xyz="-0.038197 0 0.19969" rpy="-1.57079632679 0 0" />
      <parent link="link3_left" />
      <child link="link4_left" />
      <axis xyz="0 0 1" />
      <limit
        lower="-2.44"
        upper="1.0"
        effort="0"
        velocity="0.436332313" />
    </joint>

    <link name="link5_left">
      <inertial>
        <origin xyz="-1.9806E-06 -0.0018081 -0.078642" rpy="0 0 0" />
        <mass value="0.14999" />
        <inertia
          ixx="0.00038781"
          ixy="5.3153E-09"
          ixz="3.7041E-09"
          iyy="0.00035795"
          iyz="-1.2827E-05"
          izz="0.00015133" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link5_left.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link5_left.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint5_left" type="revolute">
      <origin xyz="0 -0.067 0" rpy="1.57079632679 0 -3.14159265359" />
      <parent link="link4_left" />
      <child link="link5_left" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-3.14159265359"
        upper="3.14159265359"
        effort="0"
        velocity="0.7853981634" />
    </joint>

    <link name="link6_left">
      <inertial>
        <origin xyz="-0.023745 0.0018091 -0.0026342" rpy="0 0 0" />
        <mass value="0.14924" />
        <inertia
          ixx="0.00015555"
          ixy="9.0013E-06"
          ixz="3.6227E-06"
          iyy="0.00021426"
          iyz="-7.7162E-07"
          izz="0.00022953" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link6_left.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link6_left.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint6_left" type="revolute">
      <origin xyz="0 0 -0.133" rpy="1.57079632679 -1.57079632679 0" />
      <parent link="link5_left" />
      <child link="link6_left" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-1.308996939"
        upper="1.308996939"
        effort="0"
        velocity="0.7853981634" />
    </joint>

    <link name="link7_left">
      <inertial>
        <origin xyz="-8.607E-07 0.0034748 0.0017068" rpy="0 0 0" />
        <mass value="0.082918" />
        <inertia
          ixx="5.7371E-05"
          ixy="3.2078E-09"
          ixz="-5.1253E-10"
          iyy="5.6287E-05"
          iyz="5.9283E-07"
          izz="6.5419E-05" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/visual/link7_left.STL" />
        </geometry>
        <material name="">
          <color rgba="0.8 0.85 0.9 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://dual_arm_description/meshes/collision/link7_left.STL" />
        </geometry>
      </collision>
    </link>

    <joint name="joint7_left" type="revolute">
      <origin xyz="-0.065 0.0015 0" rpy="1.57079632679 1.57079632679 3.14159265359" />
      <parent link="link6_left" />
      <child link="link7_left" />
      <axis xyz="0 0 -1" />
      <limit
        lower="-1.05"
        upper="1.05"
        effort="0"
        velocity="0.7853981634" />
    </joint>
    
  </xacro:macro>
</robot>
